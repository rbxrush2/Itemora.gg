<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Login | Itemora</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #001b29;
  color: white;
  height: 100vh;
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
}

.container {
  background: rgba(0, 33, 54, 0.9);
  padding: 30px;
  width: 350px;
  border-radius: 14px;
  text-align: center;
  box-shadow: 0 0 20px rgba(0,255,255,0.5);
}

input {
  width: 85%;
  padding: 10px;
  margin-top: 10px;
  border-radius: 6px;
  border: none;
  outline: none;
}

.btn {
  width: 90%;
  padding: 12px;
  margin-top: 10px;
  border: none;
  border-radius: 8px;
  background: #00eaff;
  cursor: pointer;
  font-weight: bold;
  transition: 0.2s;
}

.btn:hover {
  background: #03feff;
  box-shadow: 0 0 10px cyan;
}

.back-btn {
  margin-top: 12px;
  font-size: 14px;
  color: cyan;
  cursor: pointer;
}

#loader {
  display: none;
  margin-top: 10px;
  color: cyan;
}
</style>
</head>

<body>
<div class="container">
  <h2>Login to Itemora</h2>

  <input type="email" id="email" placeholder="Email">
  <input type="password" id="password" placeholder="Password">

  <button class="btn" id="loginBtn">Login</button>
  <button class="btn" id="registerBtn">Register</button>

  <div id="loader">Loading...</div>

  <div class="back-btn" onclick="window.location='index.html'">← Back to Home</div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword }
from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyDBqCRDt-sjiCUmYpxk9lTHKxR0DM2fKQo",
  authDomain: "itemora-a0a21.firebaseapp.com",
  projectId: "itemora-a0a21",
  storageBucket: "itemora-a0a21.firebasestorage.app",
  messagingSenderId: "25090028733",
  appId: "1:25090028733:web:2acf74043aae85b3bbf3d4",
  measurementId: "G-HCHGBL8CPN"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

// ✅ LOGIN
document.getElementById("loginBtn").onclick = async () => {
  const email = emailInput.value;
  const pass = passInput.value;
  const loader = document.getElementById("loader");

  loader.style.display = "block";

  try {
    await signInWithEmailAndPassword(auth, email, pass);
    alert("✅ Logged in!");
    window.location = "index.html";
  } catch (e) {
    alert("❌ " + e.message);
  }

  loader.style.display = "none";
};

// ✅ REGISTER
document.getElementById("registerBtn").onclick = async () => {
  const email = emailInput.value;
  const pass = passInput.value;

  try {
    await createUserWithEmailAndPassword(auth, email, pass);
    alert("✅ Account created! Now login.");
  } catch (e) {
    alert("❌ " + e.message);
  }
};

const emailInput = document.getElementById("email");
const passInput = document.getElementById("password");

</script>
</body>
</html>
